title: git命令小记
date: 2015-07-22 14:42:09
tags: git
---
作为一个程序猿，不会用git是不是显得有点low？答案是肯定的。
为了不那么low，我决定开始学习git，在这里做笔记
##git初始化的几个命令
<!--more-->

```bash
    cd repo
    #进入要操作的文件夹
    git init
    #初始化GIT环境
    git add .
    #添加当前目录的文件到git
    git commit -m "message"
    #提交文件
    git remote add origin git@github.com:user/repo.git
    #关联远程仓库
    git push origin master
    #将本地代码推送到远程仓库
```

##如何创建一个新的空的分支
###[方法1](http://www.ooso.net/archives/636)

* 1.首先，从仓库中clone一份代码出来

```bash
    git clone git@git.com:user/repo.git
    cd repo
```

* 2.创建一个新的分支并切换过去

```bash
    --orphan 标识这个分支是一个独立分支，不包含任何提交记录
    git checkout --orphan newBranch
```

* 3.删除原有数据

```bash
    git rm -rf .
    rm .gitignore
```

* 4.提交新的分支

```bash
    echo "this is a new branch" >> README
    git add README
    #没有文件不能提交
    git commit -a -m "newbranch first commit"
    git push origin newbranch
```

* 5.一个全新的 没有任何东西的分支，到这里就算完工了。

###[方法2](http://gitbook.liuhui998.com/5_1.html)

```bash
    git symbolic-ref HEAD refs/heads/newbranch
    rm .git/index
    git clean -fdx
    <do work>
    git add your files
    git commit -m 'Initial commit'
    git push origin newbranch
```

##git删除远程分支

* 1.查看所有远程分支
    
    git branch -a

* 2.删除
    
    git branch -r -d origin/branch_name_todel
    git push origin :branch_name_todel


##git从远程分支还原

* 1.查看提交日志

```bash
    git log
```

* 2.还原到指定版本

```bash
    ##还原有五种选项 --mixed | --soft | --hard | --merge | --keep 
    ##可通过以下命令查看
    git reset -hard

    ##重置 HEAD、索引和工作区
    git reset --hard [ver-hash]

    ##将远程仓库中的版本，也回退到这次提交
    git push -f
```
